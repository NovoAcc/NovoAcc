<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:sling="http://sling.apache.org/jcr/sling/1.0" xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0" xmlns:rep="internal"
    jcr:mixinTypes="[cq:Console,rep:AccessControllable]"
    jcr:primaryType="cq:Widget"
    jcr:title="CQ5 Tools"
    sling:redirect="{Boolean}false"
    sling:resourceType="cq/ui/components/widget"
    sling:vanityOrder="{Long}230"
    sling:vanityPath="/miscadmin"
    consoleDescription="Maintain and configure your system."
    consoleTitle="Tools"
    iconClass="misc"
    id="cq-miscadmin"
    jsLibs="[cq.wcm.admin]"
    xtype="siteadmin">
    <actions jcr:primaryType="nt:unstructured">
        <create
            jcr:primaryType="nt:unstructured"
            cls="cq-siteadmin-create"
            context="[toolbar]"
            iconCls="cq-siteadmin-create-icon"
            split="{Boolean}true"
            text="New...">
            <menu jcr:primaryType="nt:unstructured">
                <createPage
                    jcr:primaryType="nt:unstructured"
                    cls="cq-siteadmin-create-page"
                    conditions="[CQ.wcm.SiteAdmin.hasTreeSelection]"
                    disabled="{Boolean}false"
                    handler="CQ.wcm.SiteAdmin.createPage"
                    iconCls="cq-siteadmin-create-page-icon"
                    isDefaultAction="{Boolean}true"
                    privileges="[create]"
                    target="CQ.wcm.SiteAdmin.getTargetFromTree"
                    text="New Page..."/>
                <separator0
                    jcr:primaryType="nt:unstructured"
                    value="-"
                    xtype="separator"/>
                <createFile
                    jcr:primaryType="nt:unstructured"
                    cls="cq-siteadmin-create-file"
                    conditions="[CQ.wcm.SiteAdmin.hasTreeSelection,CQ.wcm.SiteAdmin.canUploadFile]"
                    disabled="{Boolean}false"
                    handler="CQ.wcm.SiteAdmin.uploadFiles"
                    iconCls="cq-siteadmin-create-file-icon"
                    privileges="[create]"
                    target="CQ.wcm.SiteAdmin.getTargetFromTree"
                    text="New File..."/>
                <createFolder
                    jcr:primaryType="nt:unstructured"
                    cls="cq-siteadmin-create-folder"
                    conditions="[CQ.wcm.SiteAdmin.hasTreeSelection,CQ.wcm.SiteAdmin.canDoFolderOp]"
                    disabled="{Boolean}false"
                    handler="CQ.wcm.SiteAdmin.createFolder"
                    iconCls="cq-siteadmin-create-folder-icon"
                    privileges="[create]"
                    target="CQ.wcm.SiteAdmin.getTargetFromTree"
                    text="New Folder..."/>
                <separator1
                    jcr:primaryType="nt:unstructured"
                    value="-"
                    xtype="separator"/>
                <createPackage
                    jcr:primaryType="nt:unstructured"
                    cls="cq-siteadmin-create-package"
                    conditions="[CQ.wcm.SiteAdmin.hasTreeSelection,CQ.wcm.SiteAdmin.canCreatePackage]"
                    disabled="{Boolean}false"
                    handler="CQ.wcm.SiteAdmin.createPackage"
                    iconCls="cq-siteadmin-create-file-icon"
                    privileges="[create]"
                    target="CQ.wcm.SiteAdmin.getTargetFromTree"
                    text="New Package..."/>
            </menu>
        </create>
        <open
            jcr:primaryType="nt:unstructured"
            cls="cq-siteadmin-open"
            conditions="[CQ.wcm.SiteAdmin.hasListSelection]"
            context="[contextmenu]"
            handler="CQ.wcm.SiteAdmin.openPages"
            iconCls="cq-siteadmin-open-icon"
            isDefaultAction="{Boolean}true"
            privileges="[update]"
            target="CQ.wcm.SiteAdmin.getTargetFromList"
            text="Open"/>
        <separator0
            jcr:primaryType="nt:unstructured"
            value="-"
            xtype="separator"/>
        <copy
            jcr:primaryType="nt:unstructured"
            cls="cq-siteadmin-copy"
            conditions="[CQ.wcm.SiteAdmin.hasAnySelection]"
            context="[toolbar,contextmenu]"
            disabled="{Boolean}true"
            handler="CQ.wcm.SiteAdmin.copyPages"
            target="CQ.wcm.SiteAdmin.getAnyTarget"
            text="Copy"/>
        <paste
            jcr:primaryType="nt:unstructured"
            cls="cq-siteadmin-paste"
            conditions="[CQ.wcm.SiteAdmin.hasTreeSelection,CQ.wcm.SiteAdmin.canPaste]"
            context="[toolbar,contextmenu]"
            disabled="{Boolean}true"
            forceCheck="{Boolean}true"
            handler="CQ.wcm.SiteAdmin.pastePages"
            privileges="[create]"
            target="CQ.wcm.SiteAdmin.getTargetFromTree"
            text="Paste"/>
        <delete
            jcr:primaryType="nt:unstructured"
            cls="cq-siteadmin-delete"
            conditions="[CQ.wcm.SiteAdmin.hasAnySelection]"
            context="[toolbar,contextmenu]"
            disabled="{Boolean}true"
            handler="CQ.wcm.SiteAdmin.deletePage"
            privileges="[delete]"
            target="CQ.wcm.SiteAdmin.getAnyTarget"
            text="Delete"/>
        <separator1
            jcr:primaryType="nt:unstructured"
            context="[toolbar,contextmenu]"
            value="-"
            xtype="separator"/>
        <move
            jcr:primaryType="nt:unstructured"
            cls="cq-siteadmin-move"
            conditions="[CQ.wcm.SiteAdmin.hasSingleSelection]"
            context="[toolbar,contextmenu]"
            disabled="{Boolean}true"
            handler="CQ.wcm.SiteAdmin.movePage"
            privileges="[delete]"
            target="CQ.wcm.SiteAdmin.getSingleTarget"
            text="Move..."/>
        <separator2
            jcr:primaryType="nt:unstructured"
            context="[toolbar,contextmenu]"
            value="-"
            xtype="separator"/>
        <activate
            jcr:primaryType="nt:unstructured"
            cls="cq-siteadmin-activate"
            conditions="[CQ.wcm.SiteAdmin.hasAnySelection]"
            context="[toolbar,contextmenu]"
            handler="CQ.wcm.SiteAdmin.activatePage"
            target="CQ.wcm.SiteAdmin.getAnyTarget"
            text="Activate"/>
        <deactivate
            jcr:primaryType="nt:unstructured"
            cls="cq-siteadmin-deactivate"
            conditions="[CQ.wcm.SiteAdmin.hasAnySelection]"
            context="[toolbar,contextmenu]"
            handler="CQ.wcm.SiteAdmin.deactivatePage"
            target="CQ.wcm.SiteAdmin.getAnyTarget"
            text="Deactivate"/>
        <workflow
            jcr:primaryType="nt:unstructured"
            cls="cq-siteadmin-workflow"
            conditions="[CQ.wcm.SiteAdmin.hasAnySelection,CQ.wcm.SiteAdmin.noFolder]"
            context="[toolbar,contextmenu]"
            disabled="{Boolean}true"
            handler="CQ.wcm.SiteAdmin.startWorkflow"
            target="CQ.wcm.SiteAdmin.getAnyTarget"
            text="Workflow..."/>
    </actions>
    <search
        jcr:primaryType="nt:unstructured"
        url="/etc.search.json"/>
    <treeRoot
        jcr:primaryType="nt:unstructured"
        name="etc"
        text="Tools"/>
    <tags
        jcr:mixinTypes="[rep:AccessControllable]"
        jcr:primaryType="nt:unstructured">
        <icon1
            jcr:primaryType="nt:unstructured"
            href="/libs/wcm/core/content/misc.ico"
            rel="shortcut icon"
            tagName="link"
            type="image/vnd.microsoft.icon"/>
        <icon2
            jcr:primaryType="nt:unstructured"
            href="/libs/wcm/core/content/misc.ico"
            rel="icon"
            tagName="link"
            type="image/vnd.microsoft.icon"/>
    </tags>
    <rep:policy jcr:primaryType="rep:ACL">
        <deny
            jcr:primaryType="rep:DenyACE"
            rep:principalName="dupont-contributors"
            rep:privileges="{Name}[jcr:read]"/>
    </rep:policy>
</jcr:root>
